---
title: JS逆向学习-某游戏网站登陆
date: 2020-06-11 18:12:50
tags:
- JS逆向
categories:
- 技术
- JS逆向
---

aHR0cDovLzk5NzE4aC5jb20vY24vcmVnaXN0ZXI=

### 分析



![](WX20200611-181630.png)

登陆时对密码进行了加密处理，打一个xhr断点，定位到了这里

![](WX20200611-181835.png)

跟进 ***cryptStr*** 这个函数查看

![](WX20200611-182047.png)

这里的处理是在DOM中增加了一个button，触发click后再将其删掉，通过事件监听发现了加密代码

![](WX20200611-182300.png)

![](WX20200611-182430.png)

![](WX20200611-182544.png)

到这里就已经明确加密流程了，最外层是一个 ***AES*** 加密模式使用 ***ECB*** ，加密的 ***key*** 是 ***cookie*** 中的 ***web*** 和 ***randomYes*** 字符串拼接后使用 ***sdc*** 函数处理后的结果，经分析其实就是个 ***MD5*** 操作，最后将 ***AES*** 和结果和 ***randomYes*** 拼接返回。

### 总结

yysy很简单，值得注意的点是dom的事件监听。

