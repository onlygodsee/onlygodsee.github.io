---
title: 动态规划理论
date: 2020-09-15 15:01:38
tags:
- 基础篇
- 数据结构与算法
categories:
- 数据结构与算法
---

搞懂最优子结构、无后效性和重复子问题

<!-- more -->

### “一个模型三个特征”理论讲解

#### “一个模型”---多阶段决策最优解模型

我们一般是用动态规划来解决最优问题。而解决问题的过程，需要经历多个决策阶段。每个决策阶段都对应着一组状态。然后我们寻找一组决策序列，经过这组决策序列，能够产生最终期望求解的最优值。

#### 三个特征

##### 最优子结构

最优子结构指的是，问题的最优解包含子问题的最优解。反过来说就是，我们可以通过子问题的最优解，推导出问题的最优解。如果我们把最优子结构，对应到我们前面定义的动态规划问题模型上，那我们也可以理解为，后面阶段的状态可以通过前面阶段的状态推导出来。

##### 无后效性

无后效性有两层含义，第一层含义是，在推导后面阶段的状态的时候，我们只关心前面阶段的状态值，不关心这个状态是怎么一步一步推导出来的。第二层含义是，某阶段状态一旦确定，就不受之后阶段的决策影响。无后效性是一个非常“宽松”的要求。只要满足前面提到的动态规划问题模型，其实基本上都会满足无后效性。

##### 重复子问题

不同的决策序列，到达某个相同的阶段时，可能会产生重复的状态。

### 实例剖析

假设我们有一个 n 乘以 n 的矩阵 w[n][n]。矩阵存储的都是正整数。棋子起始位置在左上角，终止位置在右下角。我们将棋子从左上角移动到右下角。每次只能向右或者向下移动一位。从左上角到右下角，会有很多不同的路径可以走。我们把每条路径经过的数字加起来看作路径的长度。那从左上角移动到右下角的最短路径长度是多少呢？

![](652dff86c5dcc6a0e2a0de9a814b079f.jpg)

![](b0da245a38fafbfcc590782486b85269.jpg)

我们把状态定义为 min_dist(i, j)，其中 i 表示行，j 表示列。min_dist 表达式的值表示从 (0, 0) 到达 (i, j) 的最短路径长度。所以有如下表达式：

```
min_dist(i, j) = w[i][j] + min(min_dist(i, j-1), min_dist(i-1, j))
```



### 两种动态规划解题思路总结

#### 状态转移表法

针对上面的问题，画出状态表

![](b3f0de1c81533a0d24c43426eaf09aca.jpg)

![](05a48baf7fb4d251bf5078840079107d.jpg)

#### 状态转移方程法

一种是**递归加“备忘录”**，另一种是**迭代递推**

上面问题的状态转移公式：

```
min_dist(i, j) = w[i][j] + min(min_dist(i, j-1), min_dist(i-1, j))
```

***状态转移方程是解决动态规划的关键***



### 总结

状态转移表法解题思路大致可以概括为，**回溯算法实现 - 定义状态 - 画递归树 - 找重复子问题 - 画状态转移表 - 根据递推关系填表 - 将填表过程翻译成代码**。

状态转移方程法的大致思路可以概括为，**找最优子结构 - 写状态转移方程 - 将状态转移方程翻译成代码**。